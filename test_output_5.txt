
> xivdyetools@2.4.6 test
> vitest src/components/__tests__/color-matcher-tool.test.ts


[1m[46m RUN [49m[22m [36mv4.0.13 [39m[90mC:/Users/DrawF/OneDrive/Projects/CodingProjects/XIVProjects/xivdyetools-web-app[39m

[2m7:43:08 PM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: [33mDuplicate member "showPrices" in class body[33m
56 |  
57 |    // PricingMixin implementation
58 |    showPrices: boolean = false;
   |    ^
59 |    priceData: Map<number, PriceData> = new Map();
60 |    onPricesLoaded?: () => void;
[39m
  Plugin: [35mvite:esbuild[39m
  File: [36mC:/Users/DrawF/OneDrive/Projects/CodingProjects/XIVProjects/xivdyetools-web-app/src/components/color-matcher-tool.ts[39m
[2m7:43:08 PM[22m [33m[1m[vite][22m[39m [33m[2m(client)[22m[39m [33mwarning: [33mDuplicate member "priceData" in class body[33m
57 |    // PricingMixin implementation
58 |    showPrices: boolean = false;
59 |    priceData: Map<number, PriceData> = new Map();
   |    ^
60 |    onPricesLoaded?: () => void;
61 |    initMarketBoard!: (container: HTMLElement) => Promise<void>;
[39m
  Plugin: [35mvite:esbuild[39m
  File: [36mC:/Users/DrawF/OneDrive/Projects/CodingProjects/XIVProjects/xivdyetools-web-app/src/components/color-matcher-tool.ts[39m
[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mâœ… Theme service initialized: standard-light

[90mstderr[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mIndexedDB is not supported in this browser

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mâœ… APIService initialized from xivdyetools-core with IndexedDB cache

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mIndexedDB cache backend initialized

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mâœ… Dye database loaded: 136 dyes
âœ… DyeService initialized from xivdyetools-core

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mDetected browser locale: en

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mLoaded web app translations for: en

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mLocale changed to: en

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts
[22m[39mLanguage service initialized: en

[90mstdout[2m | src/components/__tests__/color-matcher-tool.test.ts[2m > [22m[2mColorMatcherTool[2m > [22m[2mlifecycle[2m > [22m[2mshould cleanup on destroy
[22m[39mDEBUG: render started

[90mstderr[2m | src/components/__tests__/color-matcher-tool.test.ts[2m > [22m[2mColorMatcherTool[2m > [22m[2mimage error handling branch coverage[2m > [22m[2mshould handle error event from image upload
[22m[39mImage upload error: { message: [32m'Test error message'[39m }

[90mstderr[2m | src/components/__tests__/color-matcher-tool.test.ts[2m > [22m[2mColorMatcherTool[2m > [22m[2mimage error handling branch coverage[2m > [22m[2mshould handle error event without message
[22m[39mImage upload error: {}

 [32mâœ“[39m src/components/__tests__/color-matcher-tool.test.ts [2m([22m[2m61 tests[22m[2m)[22m[33m 405[2mms[22m[39m
[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Unhandled Errors [49m[22m[31mâ¯â¯â¯â¯â¯â¯[39m
[31m[1m
Vitest caught 4 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

[31mâ¯â¯â¯â¯[39m[1m[41m Unhandled Rejection [49m[22m[31mâ¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'entries')[39m
[36m [2mâ¯[22m ColorMatcherTool.fetchPricesForMatchedDyes src/components/color-matcher-tool.ts:[2m413:38[22m[39m
    [90m411| [39m
    [90m412| [39m    [35mthis[39m[33m.[39mpriceData[33m.[39m[34mclear[39m()[33m;[39m
    [90m413| [39m    [35mfor[39m ([35mconst[39m [id[33m,[39m price] [35mof[39m prices[33m.[39m[34mentries[39m()) {
    [90m   | [39m                                     [31m^[39m
    [90m414| [39m      [35mthis[39m[33m.[39mpriceData[33m.[39m[35mset[39m(id[33m,[39m price)[33m;[39m
    [90m415| [39m    }
[90m [2mâ¯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.updatePrices src/components/color-matcher-tool.ts:[2m424:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.fetchPrices src/services/pricing-mixin.ts:[2m76:13[22m[39m

[31mThis error originated in "[1msrc/components/__tests__/color-matcher-tool.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould handle copy button click with clipboard API[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâ¯â¯â¯â¯[39m[1m[41m Unhandled Rejection [49m[22m[31mâ¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'entries')[39m
[36m [2mâ¯[22m ColorMatcherTool.fetchPricesForMatchedDyes src/components/color-matcher-tool.ts:[2m413:38[22m[39m
    [90m411| [39m
    [90m412| [39m    [35mthis[39m[33m.[39mpriceData[33m.[39m[34mclear[39m()[33m;[39m
    [90m413| [39m    [35mfor[39m ([35mconst[39m [id[33m,[39m price] [35mof[39m prices[33m.[39m[34mentries[39m()) {
    [90m   | [39m                                     [31m^[39m
    [90m414| [39m      [35mthis[39m[33m.[39mpriceData[33m.[39m[35mset[39m(id[33m,[39m price)[33m;[39m
    [90m415| [39m    }
[90m [2mâ¯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.updatePrices src/components/color-matcher-tool.ts:[2m424:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.fetchPrices src/services/pricing-mixin.ts:[2m76:13[22m[39m

[31mThis error originated in "[1msrc/components/__tests__/color-matcher-tool.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould handle copy button click with clipboard API[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâ¯â¯â¯â¯[39m[1m[41m Unhandled Rejection [49m[22m[31mâ¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'entries')[39m
[36m [2mâ¯[22m ColorMatcherTool.fetchPricesForMatchedDyes src/components/color-matcher-tool.ts:[2m413:38[22m[39m
    [90m411| [39m
    [90m412| [39m    [35mthis[39m[33m.[39mpriceData[33m.[39m[34mclear[39m()[33m;[39m
    [90m413| [39m    [35mfor[39m ([35mconst[39m [id[33m,[39m price] [35mof[39m prices[33m.[39m[34mentries[39m()) {
    [90m   | [39m                                     [31m^[39m
    [90m414| [39m      [35mthis[39m[33m.[39mpriceData[33m.[39m[35mset[39m(id[33m,[39m price)[33m;[39m
    [90m415| [39m    }
[90m [2mâ¯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.updatePrices src/components/color-matcher-tool.ts:[2m424:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.fetchPrices src/services/pricing-mixin.ts:[2m76:13[22m[39m

[31mThis error originated in "[1msrc/components/__tests__/color-matcher-tool.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould handle copy button click with clipboard API[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m

[31mâ¯â¯â¯â¯[39m[1m[41m Unhandled Rejection [49m[22m[31mâ¯â¯â¯â¯â¯[39m
[31m[1mTypeError[22m: Cannot read properties of undefined (reading 'entries')[39m
[36m [2mâ¯[22m ColorMatcherTool.fetchPricesForMatchedDyes src/components/color-matcher-tool.ts:[2m413:38[22m[39m
    [90m411| [39m
    [90m412| [39m    [35mthis[39m[33m.[39mpriceData[33m.[39m[34mclear[39m()[33m;[39m
    [90m413| [39m    [35mfor[39m ([35mconst[39m [id[33m,[39m price] [35mof[39m prices[33m.[39m[34mentries[39m()) {
    [90m   | [39m                                     [31m^[39m
    [90m414| [39m      [35mthis[39m[33m.[39mpriceData[33m.[39m[35mset[39m(id[33m,[39m price)[33m;[39m
    [90m415| [39m    }
[90m [2mâ¯[22m processTicksAndRejections node:internal/process/task_queues:[2m105:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.updatePrices src/components/color-matcher-tool.ts:[2m424:5[22m[39m
[90m [2mâ¯[22m ColorMatcherTool.fetchPrices src/services/pricing-mixin.ts:[2m76:13[22m[39m

[31mThis error originated in "[1msrc/components/__tests__/color-matcher-tool.test.ts[22m" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.[39m
[31mThe latest test that might've caused the error is "[1mshould handle copy button click with clipboard API[22m". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.[39m
[31mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[39m


[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m61 passed[39m[22m[90m (61)[39m
[2m     Errors [22m [1m[31m4 errors[39m[22m
[2m   Start at [22m 19:43:06
[2m   Duration [22m 2.67s[2m (transform 475ms, setup 182ms, collect 794ms, tests 405ms, environment 1.08s, prepare 21ms)[22m

